@model magazine_app.ViewModels.GuideDetailViewModel

@{
    ViewData["Title"] = Model.Title;
}

<!-- Breadcrumb -->
<div class="bg-gray-100 py-4">
    <div class="container mx-auto px-4">
        <nav class="text-sm">
            <a asp-controller="Home" asp-action="Index" class="text-primary-blue hover:underline">Home</a>
            <span class="mx-2">/</span>
            <a asp-controller="Guide" asp-action="Index" class="text-primary-blue hover:underline">Magazines</a>
            <span class="mx-2">/</span>
            <span class="text-gray-600">@Model.Title</span>
        </nav>
    </div>
</div>

<!-- Magazine Detail -->
<section class="container mx-auto px-4 py-12">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- Cover Image -->
        <div>
            <img src="@Model.CoverImagePath" alt="@Model.Title" class="w-full rounded-lg shadow-lg" />
        </div>

        <!-- Details -->
        <div>
            <h1 class="text-4xl font-bold text-gray-800 mb-4">@Model.Title</h1>
            
            <div class="flex items-center text-gray-600 mb-6">
                <i class="far fa-calendar mr-2"></i>
                <span>Published on @Model.CreatedAt.ToString("MMMM dd, yyyy")</span>
            </div>

            @if (!string.IsNullOrEmpty(Model.Summary))
            {
                <div class="mb-6">
                    <h3 class="text-xl font-semibold text-gray-800 mb-3">About This Magazine</h3>
                    <p class="text-gray-600 leading-relaxed">@Model.Summary</p>
                </div>
            }

            <div class="bg-gray-50 p-6 rounded-lg mb-6">
                <h4 class="font-semibold text-gray-800 mb-3">What's Inside:</h4>
                <ul class="space-y-2 text-gray-600">
                    <li><i class="fas fa-check text-green-600 mr-2"></i>Stunning photography and visuals</li>
                    <li><i class="fas fa-check text-green-600 mr-2"></i>In-depth travel guides</li>
                    <li><i class="fas fa-check text-green-600 mr-2"></i>Cultural insights and stories</li>
                    <li><i class="fas fa-check text-green-600 mr-2"></i>Downloadable PDF format</li>
                </ul>
            </div>

            @if (User.Identity?.IsAuthenticated == true)
            {
                <div class="flex gap-4">
                    <a asp-action="Read" asp-route-slug="@Model.Slug" class="flex-1 bg-primary-orange text-white text-center px-6 py-3 rounded-lg hover:bg-orange-600 transition font-semibold">
                        <i class="fas fa-book-reader mr-2"></i>Read Now
                    </a>
                    <a asp-action="DownloadPdf" asp-route-slug="@Model.Slug" class="flex-1 bg-primary-blue text-white text-center px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold">
                        <i class="fas fa-download mr-2"></i>Download PDF
                    </a>
                </div>
            }
            else
            {
                <div class="bg-yellow-50 border border-yellow-300 rounded-lg p-4 mb-4">
                    <p class="text-yellow-800 mb-3">
                        <i class="fas fa-lock mr-2"></i>Please login to read and download this magazine
                    </p>
                    <a href="/Account/Login?returnUrl=@Url.Action("Read", "Guide", new { slug = Model.Slug })" class="bg-primary-orange text-white px-6 py-2 rounded-lg hover:bg-orange-600 transition inline-block">
                        Login to Continue
                    </a>
                </div>
            }
        </div>
    </div>
</section>

<!-- Related Magazines Section -->
<section class="bg-gray-50 py-12">
    <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold text-gray-800 mb-8 text-center">More Magazines</h2>
        <div class="text-center">
            <a asp-action="Index" class="bg-primary-blue text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition inline-block">
                <i class="fas fa-arrow-left mr-2"></i>Back to Library
            </a>
        </div>
    </div>
</section>

