<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Travelogue PK</title>
    
    <!-- Tailwind CSS CDN -->
    <script>
        // Completely suppress Tailwind and BrowserLink warnings
        const originalWarn = console.warn;
        const originalError = console.error;
        
        console.warn = function(...args) {
            const msg = args[0]?.toString() || '';
            // Suppress Tailwind CDN warning
            if (msg.includes('cdn.tailwindcss.com')) return;
            // Suppress BrowserLink warnings
            if (msg.includes('WebSocket')) return;
            if (msg.includes('browserLink')) return;
            originalWarn.apply(console, args);
        };
        
        console.error = function(...args) {
            const msg = args[0]?.toString() || '';
            // Suppress BrowserLink errors
            if (msg.includes('WebSocket')) return;
            if (msg.includes('browserLink')) return;
            if (msg.includes('ERR_CONNECTION_REFUSED') && msg.includes(':61079')) return;
            originalError.apply(console, args);
        };
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-orange': '#FF6B35',
                        'primary-blue': '#0C789A',
                        'dark-navy': '#1B4965',
                        'light-blue': '#41B3D3',
                    },
                    fontFamily: {
                        'sans': ['Poppins', 'system-ui', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="~/css/custom.css" asp-append-version="true" />
    
    <!-- Image Placeholder Helper -->
    <script src="~/js/image-placeholder.js" asp-append-version="true"></script>
    
    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }
    </style>
</head>
<body class="bg-white">
    <!-- Header -->
    <partial name="_Header" />
    
    <!-- Main Content -->
    <main>
        @RenderBody()
    </main>
    
    <!-- Footer -->
    <partial name="_Footer" />
    
    <!-- Login Modal -->
    <partial name="_LoginModal" />
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- Custom JS -->
    <script>
        // Toggle mobile menu
        document.getElementById('mobile-menu-button')?.addEventListener('click', function() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        });
        
        // Toggle search
        document.getElementById('search-button')?.addEventListener('click', function() {
            document.getElementById('search-overlay').classList.toggle('hidden');
        });
        
        // Close search overlay
        document.getElementById('close-search')?.addEventListener('click', function() {
            document.getElementById('search-overlay').classList.add('hidden');
        });
        
        // Show login modal
        function showLoginModal() {
            document.getElementById('login-modal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }
        
        // Hide login modal
        function hideLoginModal() {
            document.getElementById('login-modal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }
        
        // Close modal on backdrop click
        document.getElementById('login-modal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                hideLoginModal();
            }
        });
        
        // Add to cart animation
        function addToCart(element) {
            const btn = element;
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check mr-2"></i>Added!';
            btn.classList.add('bg-green-500');
            
            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.classList.remove('bg-green-500');
            }, 2000);
        }
        
        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            });
        });
    </script>
    
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
